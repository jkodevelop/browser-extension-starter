{"version":3,"sources":["index.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length","1","module","_require","onClick","domId","console","log","addEventListener","msgFromContentScript","localStorage","getItem","JSON","parse","innerText","./helpers.js","B","browser","query","document","getElementById","htmlTitle","body","style","border","concat","disabled","tabs","active","currentWindow","url","includes","message","handleResponse","alert","../sharedjs/browser-polyfill.js","3","window","chrome"],"mappings":"cAAA,SAAUA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,MAAM,IAAIK,MAAM,uBAAuBL,EAAE,KAAK,IAAIM,EAAET,EAAEG,GAAG,CAACO,QAAQ,IAAIX,EAAEI,GAAG,GAAGQ,KAAKF,EAAEC,QAAQ,SAASZ,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIW,EAAEA,EAAEC,QAAQZ,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGO,QAAkD,IAA1C,IAAIH,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEW,OAAOT,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAArZ,CAAyZ,CAACW,EAAE,CAAC,SAASP,EAAQQ,EAAOJ,GAAQ,IAAAK,EAClaT,EAAQ,gBAA3BU,EADqbD,EACrbC,QAASC,EAD4aF,EAC5aE,MADjBC,QAACC,IAAWpB,wBAAOkB,EAAA,cAAeG,iBAAA,QAAAJ,GAAA,GAA+D,IAAAK,EAAS,OAAAC,aAAAC,QAAA,MAAAC,KAAAC,MAAAH,aAAA,IAAA,EAAeL,EAAA,eAAKS,UAAAL,EAAAT,QAAe,CAAAe,eAAUnB,IAAAA,EAAM,CAAA,SAAAF,EAAAQ,EAAuBX,GAAO,IAWvLyB,EAXuLtB,EAAA,oCAWvKuB,QAXmLnB,SAAAA,EAAOoB,GAAR,OAAXC,SAAAC,eAAAF,GAA4F,SAACrB,EAArEwB,GAA0FF,SAAAG,KAAAC,MAAAC,OAAA,iBAoB3SnB,EAAM,eAAeS,UAArB,kBAAAW,OAAmDJ,GApBwPhB,EAAA,cAAYP,UAAZ,WAAoBO,EAAA,cAAAqB,UAAA,EAA3ExB,EAAAJ,QAAKO,MAACA,EAE5PC,EAAAA,QAAAF,QAuBA,SAAiBlB,GAzB0V8B,EAAAW,KAAIT,MAAM,CAAVU,QAAgB5B,EAAhB6B,eAAA,GAAA,SAAAF,GAA+BpC,EAAJ,GAAAuC,IAAAC,SAAA,0EAAuDf,EAAAW,KACrbvB,YADqbuB,EACrbvB,GAAAA,GADiZ,CAAI4B,QAAStC,uBAAuBuC,GAAlFC,MAAA,8GAM3W,CAAAC,kCAAA,IAAAC,EAAA,CAAA,SAAA1C,EAAAQ,EAAAJ,GAmCA,IAAImB,EAlCAR,OAAAA,WACJJ,OAAMY,SARsZoB,OAS1ZC,OAAApC,EATuZJ,QAAAmB,GASnY,KAAG,GAAA,CAAA","file":"index.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nconst { onClick, domId } = require('./helpers.js');\nconsole.log('Hello Web Extension!');\ndomId('HellWebext').addEventListener('click', onClick, false);\n// if the content script has sent data to background then it will store the data in localStorage\n// the value if not a string should be a JSON.stringify string.\n// so JSON.parse() to restore the stored object JSON form\nvar msgFromContentScript = localStorage.getItem(\"h2\") !== null ? JSON.parse(localStorage[\"h2\"]) : 0;\ndomId('MainContent').innerText = msgFromContentScript.length;\n},{\"./helpers.js\":2}],2:[function(require,module,exports){\nconst _browser = require(\"../sharedjs/browser-polyfill.js\");\nvar B = _browser || browser;\n\nfunction domId(query){\n  return document.getElementById(query);\n}\nmodule.exports.domId = domId;\n\nfunction handleResponse(htmlTitle) {\n  document.body.style.border = \"5px solid blue\";\n  domId('MainContent').innerText = `Title of site: ${htmlTitle}`;\n  domId('HellWebext').innerText = \"disabled\";\n  domId('HellWebext').disabled = true;\n}\n\nfunction onClick(e) {\n  B.tabs.query({active: true, currentWindow: true}, function(tabs) {\n    if(!tabs[0].url.includes('https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions')) {\n      alert('please go to https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions for demonstration.')\n      return;\n    }\n    const payload = {\n      \"message\": \"from browser action\"\n    };\n    B.tabs.sendMessage(tabs[0].id, payload, handleResponse);\n  });\n}\nmodule.exports.onClick = onClick;\n\n\n},{\"../sharedjs/browser-polyfill.js\":3}],3:[function(require,module,exports){\nvar browser = (function () {\n  return window.msBrowser ||\n    window.browser ||\n    window.chrome;\n})();\nmodule.exports = browser;\n},{}]},{},[1])"]}