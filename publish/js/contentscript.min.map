{"version":3,"sources":["index.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length","1","module","window","browser","matches","h2Texts","B","handleClickResponse","message","document","body","style","border","console","log","concat","response","handleResponse","addEventListener","msBrowser","runtime","sendMessage","greeting","querySelectorAll","forEach","handleError","error","h2","textContent","dest","key","value","sending"],"mappings":"cAAA,SAAUA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,MAAM,IAAIK,MAAM,uBAAuBL,EAAE,KAAK,IAAIM,EAAET,EAAEG,GAAG,CAACO,QAAQ,IAAIX,EAAEI,GAAG,GAAGQ,KAAKF,EAAEC,QAAQ,SAASZ,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIW,EAAEA,EAAEC,QAAQZ,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGO,QAAkD,IAA1C,IAAIH,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEW,OAAOT,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAArZ,CAAyZ,CAACW,EAAE,CAAC,SAASP,EAAQQ,EAAOJ,GAArbK,OAACC,QAAkBD,OAAaX,WAAGW,OAAMZ,SAAIY,OAAIhB,OAAgD,IAYhGkB,EAgCKC,EA5C2FC,EAAAJ,OAAGC,SAAMA,QAAmC,SAAAI,EAAgBC,GAA8BC,SAAAC,KAAAC,MAAAC,OAAA,kBAWzLC,QAAQC,IAAR,wCAAAC,OAAoDP,EAAQQ,WAJ9D,SAAKC,EAAUd,GAgCbU,QAAQC,IAAR,wCAAAC,OAAoDP,EAAQQ,WApC5Dd,OAAAgB,iBAAcC,QAH6R,SAAAlC,GAoB3SwB,SAASC,KAAKC,MAAMC,OAAS,iBAGfN,EAAEc,QAAQC,YAAY,CAvB2RC,SAAM,oCAyBnUf,KAnBHE,SAJDC,KAAAC,MAAAC,OAAA,kBAUCR,EAAAK,SAAAC,KAAAa,iBAAA,eAgCKlB,EAAU,GA9BhBD,EAAAoB,QAASC,SAAYC,GAEnBb,EAAAA,KAAAc,EAAAC,eAiCAf,QAAQC,IAAI,qCAAsCV,EAAQL,QA7BjDW,EAAAA,QAAWE,YAAS,CAE7BiB,KAAA,gBA+BEC,IAAO,KA9BTC,MAAIC,GACFV,IAOF,KAAA,GAAA,CAAA","file":"index.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n// content script cannot use require\r\nwindow.browser = (function () {\r\n  return window.msBrowser ||\r\n    window.browser ||\r\n    window.chrome;\r\n})();\r\nvar B = window.browser || browser;\r\n\r\nfunction handleClickResponse(message) {\r\n  document.body.style.border = \"5px solid green\";\r\n  console.log(`Message from the background script:  ${message.response}`);\r\n}\r\n\r\nfunction handleError(error) {\r\n  document.body.style.border = \"5px solid red\";\r\n  console.log(`Error: ${error}`);\r\n}\r\n\r\nfunction notifyBackgroundPage(e) {\r\n  document.body.style.border = \"5px solid blue\";\r\n  // this is lowest common denominator\r\n  // A\r\n  var sending = B.runtime.sendMessage({\r\n    greeting: \"Greeting from the content script\"\r\n  },handleClickResponse);\r\n\r\n  // this uses promise, only worked for mozilla 2020, chrome didn't allow it\r\n  // B\r\n  // var sending = B.runtime.sendMessage({\r\n  //   greeting: \"Greeting from the content script\"\r\n  // });\r\n  // sending.then(handleResponse, handleError);  \r\n}\r\n\r\nwindow.addEventListener(\"click\", notifyBackgroundPage);\r\ndocument.body.style.border = \"5px solid black\";\r\n\r\nfunction handleResponse(message) {\r\n  console.log(`Message from the background script:  ${message.response}`);\r\n}\r\n\r\nfunction getH2TextForPopupDisplay(){\r\n  var matches = document.body.querySelectorAll(\".section h2\");\r\n  var h2Texts = [];\r\n  matches.forEach(function(h2){\r\n    // console.log(h2.textContent);\r\n    h2Texts.push(h2.textContent);\r\n  });\r\n  console.log('number of matches for .section h2:', matches.length);\r\n\r\n  var sending = B.runtime.sendMessage({\r\n    \"dest\":\"default_popup\",\r\n    \"key\": \"h2\",\r\n    \"value\": h2Texts\r\n  },handleResponse);  \r\n}\r\n// run when script is injected\r\ngetH2TextForPopupDisplay();\r\n\n},{}]},{},[1])"]}